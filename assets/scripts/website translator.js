const langArr = {
    "Namber": {
        "ru": "(+380) 50-773-2506 | Работаем 7 дней в неделю 9:00 - 18:00",
        "en": "(+380) 50-773-2506 | We work 7 days a week 9:00 - 18:00",
        "ua": "(+380) 50-773-2506 | Працюємо 7 днів на тиждень 9:00 - 18:00"
    },
    "ProductTitle": {
        "ru": "Футболки",
        "en": "T-shirts",
        "ua": "Футболки"
    },
    "T-shirts": {
        "ru": "Футболки",
        "en": "T-shirts",
        "ua": "Футболки"
    },
    "Sweatshirts": {
        "ru": "Толстовки",
        "en": "Sweatshirts",
        "ua": "Світшоти"
    },
    "Hoodies": {
        "ru": "Худи",
        "en": "Hoodies",
        "ua": "Худі"
    },
    "Backpacks": {
        "ru": "Рюкзаки",
        "en": "Backpacks",
        "ua": "Рюкзаки"
    },
    "Polo": {
        "ru": "Поло",
        "en": "Polo",
        "ua": "Поло"
    },
    "Shorts": {
        "ru": "Шорты",
        "en": "Shorts",
        "ua": "Шорти"
    },
    "Hats": {
        "ru": "Шляпы",
        "en": "Hats",
        "ua": "Капелюхи"
    },
    "Caps": {
        "ru": "Кепки",
        "en": "Caps",
        "ua": "Кепки"
    },
    "Text": {
        "ru": "TREND CLOTHES SHOP (TCS) - ЭТО БОЛЬШОЙ МАГАЗИН БРЕНДОВАНОЙ ОДЕЖДЫ ДЛЯ МОЛОДЕЖИ НА РЫНКЕ УКРАИНЫ...",
        "en": "TREND CLOTHING STORE (TCS) IS THE BIGGEST BRAND STORE FOR YOUNG PEOPLE ON THE UKRAINE MARKET...",
        "ua": "TREND CLOTHES SHOP (TCS) - ЦЕ НАЙБІЛЬШИЙ МАГАЗИН БРЕНДОВАНОГО ОДЯГУ ДЛЯ МОЛОДІ НА РИНКУ УКРАЇНИ..."
    },
    "buttonCatalog": {
        "ru": "Перейти к каталогу",
        "en": "Go to catalog",
        "ua": "Перейти до каталогу"
    },
    "textNumber": {
        "ru": "(+380) 50-773-2506 | Работаем 7 дней в неделю | 9:00 — 18:00",
        "en": "(+380) 50-773-2506 | Available 7 days per week | 9:00 – 18:00",
        "ua": "(+380) 50-773-2506 | Працюємо 7 днів на тиждень | 9:00 — 18:00"
    },
    "Login": {
        "ru": "Вход",
        "en": "Login",
        "ua": "Вхід"
    },
    "Registration": {
        "ru": "Регистрация",
        "en": "Registration",
        "ua": "Реєстрація"
    },
    "T-shirtsFooter": {
        "ru": "Футболки",
        "en": "T-shirts",
        "ua": "Футболки"
    },
    "SweatshirtsFooter": {
        "ru": "Толстовки",
        "en": "Sweatshirts",
        "ua": "Світшоти"
    },
    "HoodiesFooter": {
        "ru": "Худи",
        "en": "Hoodies",
        "ua": "Худі"
    },
    "BackpacksFooter": {
        "ru": "Рюкзаки",
        "en": "Backpacks",
        "ua": "Рюкзаки"
    },
    "PoloFooter": {
        "ru": "Поло",
        "en": "Polo",
        "ua": "Поло"
    },
    "ShortsFooter": {
        "ru": "Шорты",
        "en": "Shorts",
        "ua": "Шорти"
    },
    "HatsFooter": {
        "ru": "Шляпы",
        "en": "Hats",
        "ua": "Капелюхи"
    },
    "CapsFooter": {
        "ru": "Кепки",
        "en": "Caps",
        "ua": "Кепки"
    },
    "Support": {
        "ru": "Почта-поддержки",
        "en": "Email-support",
        "ua": "Пошта-підтримки"
    },
    "pay": {
        "ru": "ПРИНИМАЮТСЯ К ОПЛАТЕ:",
        "en": "WE ACCEPT FOR PAYMENT:",
        "ua": "ПРИЙМАЄМО ДЛЯ ОПЛАТИ:"
    },
    "TimeSupport": {
        "ru": "СЛУЖБЫ ПОДДЕРЖКИ",
        "en": "SUPPORT SERVICE HOURS",
        "ua": "ЧАС РОБОТИ СЛУЖБИ ПІДТРИМКИ"
    },
    "MonFri": {
        "ru": "ПН-ПТ: 9:00 - 21:00",
        "en": "Mon-Fri: 9:00 - 21:00",
        "ua": "ПН-ПТ: 9:00 - 21:00"
    },
    "Delivery": {
        "ru": "Доставка по Украине осуществляется службой доставки: Новая Почта.",
        "en": "Delivery within Ukraine is provided by the delivery service: Nova Poshta.",
        "ua": "Доставка по Україні здійснюється службою доставки: Нова Пошта."
    },
    "Delivery2": {
        "ru": "Доставка за границу осуществляется службой доставки: Укр Почта.",
        "en": "Delivery abroad is carried out by the delivery service: Ukr Post.",
        "ua": "Доставка за кордон здійснюється службою доставки: Укр Пошта."
    },
    "ChoosSize": {
        "ru": "Выберите размер:",
        "en": "Choose a size:",
        "ua": "Виберіть розмір:"
    },
    "BasketAdd": {
        "ru": "Выберите размер:",
        "en": "Choose a size:",
        "ua": "Виберіть розмір:"
    },
    "quantityLabel": {
        "ru": "Размер",
        "en": "Size",
        "ua": "Розмір"
    },
    "cartItemSize": {
        "ru": "Размер",
        "en": "Size",
        "ua": "Розмір"
    },
    "cartItemCount": {
        "ru": "Количество",
        "en": "Quantity",
        "ua": "Кількість"
    },
    "cartItemPrice": {
        "ru": "Цена",
        "en": "Price",
        "ua": "Ціна"
    },
    "emptyCartMessage": {
        "ru": "Размер",
        "en": "Size.",
        "ua": "Розмір"
    }
};


    const imageTexts = {
    image1: {
        "ru": "Обновите свой повседневный образ с нашей классической белой футболкой. Изготовленная из высококачественного, мягкого и дышащего хлопка, эта футболка обеспечивает комфорт и долговечность на весь день. Универсальный дизайн делает её незаменимой в любом гардеробе — идеально подходит для многослойных образов или для носки самостоятельно. Независимо от того, собираетесь ли вы нарядиться или предпочитаете более повседневный стиль, эта вечная вещь легко дополнит любой наряд.",
        "en": "Elevate your everyday look with our classic white t-shirt. Crafted from high-quality, soft, and breathable cotton, this tee offers all-day comfort and durability. The versatile design makes it a staple in any wardrobe, perfect for layering or wearing on its own. Whether you're dressing up or down, this timeless piece will effortlessly complement any outfit.",
        "ua": "Оновіть свій щоденний вигляд з нашою класичною білою футболкою. Виготовлена з високоякісного, м'якого та дихаючого бавовняного матеріалу, ця футболка забезпечує комфорт та довговічність протягом всього дня. Універсальний дизайн робить її незамінною в будь-якому гардеробі — ідеально підходить як для багатошарових образів, так і для носки самостійно. Незалежно від того, чи ви збираєтеся одягнутися урочисто або віддаєте перевагу повсякденному стилю, ця вічна річ легко доповнить будь-який наряд."
    },
    image2: {
        "ru": "Оцените комфорт и практичность с нашей футболкой Работяга. Изготовленная из прочного, высококачественного хлопка, эта футболка предназначена для тех, кто ценит стиль и функциональность. Классический крой и надежная ткань делают её идеальной для долгого рабочего дня или неформальных встреч. С простым, но выразительным дизайном, эта футболка сочетает прочность с современными эстетическими решениями, обеспечивая вам отличное сочетание стиля и комфорта.",
        "en": "Embrace comfort and practicality with our Workman t-shirt. Made from durable, high-quality cotton, this tee is designed for those who value both style and function. The classic fit and robust fabric make it ideal for a long day at work or a casual outing. With its simple yet striking design, this t-shirt combines toughness with modern aesthetics, ensuring you look great while staying comfortable.",
        "ua": "Відчуйте комфорт і практичність з нашою футболкою Работяга. Виготовлена з міцного, високоякісного бавовняного матеріалу, ця футболка призначена для тих, хто цінує стиль і функціональність. Класичний крій і надійна тканина роблять її ідеальною як для довгого робочого дня, так і для неформальних зустрічей. З простим, але виразним дизайном, ця футболка поєднує міцність з сучасною естетикою, забезпечуючи вам відмінний вигляд і комфорт."
    },
    image3: {
        "ru": "Стильная футболка с яркой красной звездой на груди – символом силы, мужества и независимости. Лаконичный и смелый дизайн подчеркнёт вашу уверенность, добавив в образ нотку бунтарства. Идеальный выбор для тех, кто ценит минимализм и значимые символы. Мягкий и комфортный материал обеспечивает удобство в носке каждый день.",
        "en": "A stylish T-shirt featuring a bright red star on the chest – a symbol of strength, courage, and independence. The minimalist and bold design emphasizes your confidence, adding a rebellious touch to your look. Perfect for those who appreciate simplicity and meaningful symbols. The soft and comfortable fabric ensures everyday wearability and comfort.",
        "ua": "Стильна футболка з яскравою червоною зіркою на грудях – символом сили, мужності та незалежності. Лаконічний і сміливий дизайн підкреслить вашу впевненість, додавши в образ нотку бунтарства. Ідеальний вибір для тих, хто цінує мінімалізм і значущі символи. М'який і зручний матеріал забезпечує комфорт у повсякденному носінні."
    }
};

// Функция для обновления текста в элементе <p> на основе сохраненного значения в localStorage и выбранного языка
    function translateText(language) {
    const elementImg = localStorage.getItem('selectedName');
    const descriptionElement = document.getElementById('text1');

    if (elementImg && imageTexts[elementImg]) {
        descriptionElement.textContent = imageTexts[elementImg][language];
    } else {
        descriptionElement.textContent = "Описание отсутствует.";
    }
}


function saveProductNameToLocalStorage(productName) {
    // Сохраняем название товара в локальное хранилище
    localStorage.setItem('savedProductName', productName);
}

function updateHeadingContent(language) {
    // 1. Ищем все элементы, которым нужно обновить текст, по классу '.multilingual'
    const multilingualElements = document.querySelectorAll('.multilingual');
    
    // 2. Для каждого элемента в списке найденных:
    multilingualElements.forEach(element => {
        // 3. Получаем уникальный ключ текста из атрибута 'data-key', который связывает элемент с его переводом
        const key = element.getAttribute('data-key');
        
        // 4. Находим перевод по ключу в объекте 'langArr', проверяем, существует ли такой ключ, и получаем перевод для выбранного языка
        const translatedText = langArr[key] ? langArr[key][language] : '';
        
        // 5. Обновляем текстовое содержимое элемента (заменяем старый текст на перевод)
        element.textContent = translatedText;
        
        // 6. Обновляем атрибут 'data-text', чтобы сохранить перевод внутри элемента (может использоваться для других целей, например, логики интерфейса)
        element.setAttribute('data-text', translatedText);
        
        // 7. Если ключ указывает на название продукта ('savedProductName'), вызываем функцию, которая сохранит это имя в локальное хранилище
        if (key === 'savedProductName') {
            saveProductNameToLocalStorage(translatedText);
        }
    });

    // 8. Дополнительно вызываем функцию для перевода текста, который относится к описанию изображения
    translateText(language);
}

function updateHeadingContent(language) {
    const multilingualElements = document.querySelectorAll('.multilingual');
    multilingualElements.forEach(element => {
        const key = element.getAttribute('data-key');
        const translatedText = langArr[key] ? langArr[key][language] : '';
        element.textContent = translatedText;
        element.setAttribute('data-text', translatedText);
    });

    // Обновляем описание изображения
    translateText(language);

    // Обновляем данные корзины
    loadCartData();
}

document.querySelectorAll('.option').forEach(option => {
    // 1. Для каждого элемента с классом '.option' (представляющего один из вариантов выбора языка) добавляется обработчик события 'click'
    option.addEventListener('click', () => {
        
        // 2. При клике на элемент, внутри этого элемента ищется дочерний элемент с классом '.opt-val', 
        // у которого извлекается текстовое содержимое (название языка). Текст приводится к нижнему регистру
        const selectedLanguage = option.querySelector('.opt-val').textContent.toLowerCase();
        
        // 3. Получаем элемент с id 'selected-value' (предположительно, это место, где отображается выбранный язык)
        const selectedValue = document.getElementById('selected-value');
        
        // 4. Обновляем текст в элементе 'selected-value' на выбранный язык
        selectedValue.textContent = selectedLanguage;

        // 5. Вызываем функцию, которая обновляет текстовое содержимое на странице в зависимости от выбранного языка
        updateHeadingContent(selectedLanguage);

        // 6. Сохраняем выбранный язык в localStorage браузера, чтобы при следующем посещении сайта пользователь увидел выбранный ранее язык
        localStorage.setItem('selectedLanguage', selectedLanguage);
        
        // 7. Закрываем меню выбора языка, удаляя класс 'active' у контейнера с опциями выбора языка
        optionsContainer.classList.remove('active');


    });
});

// Применение сохраненного языка и обновление текста при загрузке страницы
window.addEventListener('load', () => {
    const savedLanguage = localStorage.getItem('selectedLanguage') || 'en'; // По умолчанию английский
    const selectedValue = document.getElementById('selected-value');
    selectedValue.textContent = savedLanguage;
    
    // Обновляем контент на странице
    updateHeadingContent(savedLanguage);
}); 

function updateSavedProductName(language) {
    // Получаем сохраненное название товара из локального хранилища
    const savedProductName = localStorage.getItem('savedProductName');
    
    // Проверяем, есть ли сохраненное название товара
    if (savedProductName) {
        // Ищем элемент с классом '.buyButton', у которого 'data-text' равно сохраненному названию товара
        const productElement = Array.from(document.querySelectorAll('.buyButton'))
                                    .find(el => el.getAttribute('data-text') === savedProductName);
        
        if (productElement) {
            // Получаем ключ для перевода из атрибута 'data-key'
            const key = productElement.getAttribute('data-key');
            
            // Ищем перевод по ключу в объекте 'langArr'
            const translatedProductName = langArr[key] ? langArr[key][language] : '';

            // Если перевод найден, обновляем название товара в локальном хранилище
            if (translatedProductName) {
                localStorage.setItem('savedProductName', translatedProductName);
            }
        }
    }
}

 


/*
// Обработчик события для кнопки выбора языка
const selectButton = document.getElementById('select-button');
const optionsContainer = document.getElementById('options');
selectButton.addEventListener('click', () => {
    optionsContainer.classList.toggle('active');
});




/*-------*/

/*
// Функция для обновления данных товара
function updateItemData(itemData, language) {
    const itemElement = document.querySelector(`[data-id='${itemData.id}']`);
    
    if (itemElement) {
        itemElement.querySelector('#itemTitle').textContent = itemData.title;
        itemElement.querySelector('#itemSize').textContent = itemData.size;
        itemElement.querySelector('#itemCount').textContent = itemData.count;
        itemElement.querySelector('#itemPrice').textContent = itemData.price;
        
        // Обновляем локализацию текста
        updateLocalization(language);
    }
}

function updateCartText(language) {
    // Обновляем текст в корзине
    const cartItems = document.querySelectorAll('.item');
    cartItems.forEach(item => {
        item.querySelector('#itemTitle').textContent = langArr['cartItemTitle'][language];
        item.querySelector('#itemSize').textContent = langArr['cartItemSize'][language];
        item.querySelector('#itemCount').textContent = langArr['cartItemCount'][language];
        item.querySelector('#itemPrice').textContent = langArr['cartItemPrice'][language];
    });

    // Обновляем сообщение, если корзина пуста
    const cartContent = document.getElementById('cartContent');
    if (cartContent.children.length === 0) {
        cartContent.textContent = langArr['emptyCartMessage'][language];
    }
}
*/



